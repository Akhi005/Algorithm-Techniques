#include<bits/stdc++.h>
using namespace std;

int main()
{
    int i,j,k,m,x,y,node,edge,src;
    cin>>node>>edge;
    vector<int>grap[node+2];
    int level[node+1],vis[node+5];
    queue<int>q;
    for(i=0;i<edge;i++)
    {
        cin>>x>>y;
        grap[x].push_back(y);
        grap[y].push_back(x);
    }
    for(i=0;i<=node;i++) level[i]=0,vis[i]=0;
    cin>>src;
    q.push(src);
    while(!q.empty())
    {
        k=q.front();
       // cout<<k<<' '; //node sequence
        q.pop();
        vis[k]=1;
        for(i=0;i<grap[k].size();i++)
        {
            if(vis[grap[k][i]]==0)
            {
                vis[grap[k][i]]=1;
                level[grap[k][i]]=level[k]+1;
                q.push(grap[k][i]);
            }
        }
    }
       for(i=src;i<src+node;i++) cout<<i<<' '<<level[i]<<'\n';
}
